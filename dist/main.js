(()=>{"use strict";const e=[],t=[],n=(t,n,o,a)=>{const c=new class{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.highPriority=o,this.completed=!1}}(t,n,o,a);return e.push(c),c},o=(e,n,o)=>{const a=new class{constructor(e,t){this.title=e,this.description=t,this.tasks=[]}}(e,n,o);t.push(a)},a=(o("Miscellaneous","Unorganized tasks"),()=>{const e=document.querySelector("#project-list");for(;e.firstChild;)e.removeChild(e.firstChild);t.forEach((t=>{const n=document.createElement("ul");n.id=`project-selector-${t.title}`,n.className="project-selector",n.textContent=t.title,e.appendChild(n),(()=>{const e=t.tasks;0!=e.length&&e.forEach((e=>{const t=document.createElement("li");t.class="project-selector-task",t.id=`project-task-${e.title}`,t.textContent=e.title,n.appendChild(t)}))})(),n.addEventListener("click",(()=>{c(t)}))}))}),c=e=>{const t=document.querySelector("#content-area"),n=((()=>{for(;t.firstChild;)t.removeChild(t.firstChild)})(),(()=>{const n=document.createElement("h2");n.className="project-heading",n.textContent=e.title,t.appendChild(n)})(),(()=>{const n=document.createElement("p");n.className="project-description",n.textContent=e.description,t.appendChild(n)})(),t=>{t.preventDefault();const n=()=>i.contextMenu.remove(),o=((()=>{const e=document.getElementById("context-menu");null!=e&&e.remove()})(),t.currentTarget.dataset.id),i=(()=>{const i=document.createElement("ul");i.id="context-menu",document.body.appendChild(i);const d=document.createElement("li");d.id="context_item-complete",d.className="context_item",0==e.tasks.find((e=>e.title==o)).completed?d.textContent="Mark as Complete":d.textContent="Mark as Incomplete",i.appendChild(d);const l=document.createElement("li");l.id="context_item-priority",l.className="context_item",0==e.tasks.find((e=>e.title==o)).highPriority?l.textContent="Make High Priority":l.textContent="Make Normal Priority",i.appendChild(l);const r=document.createElement("li");return r.id="context_item-delete",r.className="context_item",r.textContent="Delete Task",i.appendChild(r),i.style.top=t.clientY-20+"px",i.style.left=t.clientX-20+"px",document.body.addEventListener("click",(function e(t){"context-menu"!=t.target.id&&"context_item"!=t.target.className&&(n(),document.body.removeEventListener("click",e))})),d.addEventListener("click",(()=>{(()=>{const t=e.tasks.find((e=>e.title==o));if(0==t.completed?t.completed=!0:t.completed=!1,1==t.completed){const e=document.querySelector("#tasks_container-completed");document.querySelectorAll(`.task-container[data-id=${o}]`).forEach((t=>{e.appendChild(t)}))}else{const e=document.querySelector("#tasks_container-normal");document.querySelectorAll(`.task-container[data-id=${o}]`).forEach((t=>{e.appendChild(t)}))}})(),n()})),l.addEventListener("click",(()=>{(()=>{const t=e.tasks.find((e=>e.title==o)),n=()=>{const e=document.querySelector("#tasks_container-high"),n=document.querySelector("#tasks_container-normal");1==t.highPriority?document.querySelectorAll(`.task-container[data-id=${o}]`).forEach((t=>{e.appendChild(t)})):document.querySelectorAll(`.task-container[data-id=${o}]`).forEach((e=>{n.appendChild(e)}))};0==t.highPriority?(t.highPriority=!0,n()):(t.highPriority=!1,n())})(),n()})),r.addEventListener("click",(()=>{(()=>{const t=e.tasks.findIndex((e=>e.title==o));e.tasks.splice(t,1),a(),c(e)})(),n()})),{contextMenu:i}})()});(()=>{const o=(()=>{const e=document.createElement("h5");e.textContent="High Priority",e.className="priority-heading",e.id="priority-heading-high",t.appendChild(e);const n=document.createElement("div");n.id="tasks_container-high",n.className="tasks_container",t.appendChild(n);const o=document.createElement("h5");o.textContent="Normal Priority",o.className="priority-heading",t.appendChild(o);const a=document.createElement("div");a.id="tasks_container-normal",n.className="tasks_container",t.appendChild(a);const c=document.createElement("h5");c.textContent="Completed",c.className="priority-heading",t.appendChild(c);const i=document.createElement("div");return i.id="tasks_container-completed",n.className="tasks_container",t.appendChild(i),{highPriorityTaskContainer:n,normalPriorityTaskContainer:a,completedContainer:i}})();e.tasks.forEach((e=>{const t=document.createElement("div");t.className="task-container",t.dataset.id=e.title,1==e.highPriority?o.highPriorityTaskContainer.appendChild(t):0==e.completed?o.normalPriorityTaskContainer.appendChild(t):o.completedContainer.appendChild(t);const a=document.createElement("div");a.className="tasks_container-title",t.appendChild(a),(()=>{const t=document.createElement("h4");t.className="task-title",t.textContent=e.title,a.appendChild(t)})(),(()=>{const t=document.createElement("p");t.className="task-description",t.textContent=e.description,a.appendChild(t)})(),(()=>{const n=document.createElement("p");n.className="task-due-date",n.textContent=`Due: ${e.dueDate}`,t.appendChild(n)})(),t.addEventListener("contextmenu",n)}))})()},i=document.querySelector("#button_new-task"),d=document.querySelector("#button_new-project");i.addEventListener("click",(()=>{const e=()=>{const e=n(o.inputTitle.value,o.inputDescription.value,o.inputDueDate.value,1==o.prioritySwitch.checked);(()=>{const n=document.querySelector("#project-selector").value;t.find((e=>e.title==n)).tasks.push(e)})(),(()=>{a();const e=document.querySelector("#project-selector").value,n=t.find((t=>t.title==e));c(n)})(),o.modalContainer.remove()},o=(()=>{const n=document.createElement("div");n.className="modal_container",n.id="modal_task",document.body.appendChild(n);const o=document.createElement("h3");o.className="modal_heading",o.textContent="Create a New Task",n.appendChild(o);const a=document.createElement("input");a.type="text",a.placeholder="Task Name",a.id="input_title",a.className="input_text",n.appendChild(a);const c=document.createElement("textarea");c.placeholder="Description",c.id="input_description",c.className="input_text",n.appendChild(c);const i=document.createElement("input");i.type="date",i.value=(()=>{let e=new Date;const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return e=`${o}-${n}-${t}`,e})(),i.id="input_duedate",i.className="input_date",n.appendChild(i);const d=document.createElement("label");d.textContent="Make High Priority?",d.className="switch-wrapper",n.appendChild(d);const l=document.createElement("input");l.type="checkbox",l.id="input_priority",l.className="checkbox",l.value="high-priority",d.appendChild(l),(()=>{const e=document.createElement("select");e.className="input_dropdown",e.placeholder="Select Project",e.id="project-selector",n.appendChild(e);const o=document.createElement("datalist");o.id="projects-data",n.appendChild(o),t.forEach((t=>{const n=document.createElement("option");n.textContent=t.title,e.appendChild(n)}))})();const r=document.createElement("button");r.type="button",r.textContent="Create Task",r.className="modal_button-primary",r.id="button_submit-task",r.addEventListener("click",e),n.appendChild(r);const s=document.createElement("button");return s.type="button",s.textContent="Cancel",s.className="modal_button-secondary",s.id="button_cancel-task",s.addEventListener("click",(()=>n.remove())),n.appendChild(s),{modalContainer:n,inputTitle:a,inputDueDate:i,inputDescription:c,prioritySwitch:l,submitButton:r}})()})),d.addEventListener("click",(()=>{const e=()=>{o(t.inputTitle.value,t.inputDescription.value),t.modalContainer.remove(),a()},t=(()=>{const t=document.createElement("div");t.className="modal_container",t.id="modal_project",document.body.appendChild(t);const n=document.createElement("h3");n.className="modal_heading",n.textContent="Create a New Project",t.appendChild(n);const o=document.createElement("input");o.type="text",o.placeholder="Project Name",o.id="input_title",o.className="input_text",t.appendChild(o);const a=document.createElement("textarea");a.placeholder="Description",a.id="input_description",a.className="input_text",t.appendChild(a);const c=document.createElement("button");c.type="button",c.textContent="Create Project",c.id="button_submit-project",c.className="modal_button-primary",c.addEventListener("click",e),t.appendChild(c);const i=document.createElement("button");return i.type="button",i.textContent="Cancel",i.id="button_cancel-project",i.className="modal_button-secondary",i.addEventListener("click",(()=>t.remove())),t.appendChild(i),{modalContainer:t,inputTitle:o,inputDescription:a}})()})),a(),window.addEventListener("load",(e=>{console.log("The page has fully loaded"),c(t[0])}))})();